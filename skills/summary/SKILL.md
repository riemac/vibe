---
name: summary
description: 对话总结与跨对话上下文传递。提炼关键信息为结构化 Markdown，支持跨对话/跨项目复用。触发场景：用户说"总结"、对话即将结束需保存上下文、需将信息传递到另一项目/对话。
---

# Summary

将对话内容提炼为结构化 Markdown，服务跨对话上下文传递。

## 场景与模板

根据对话性质选择合适模板，或者构建类似文档：

### A. 调研/决策类
适用于：技术选型、可行性调研、环境构建

```markdown
---
title: <简明标题>
date: YYYY-MM-DD
project: <项目名>
tags: [tag1, tag2]
type: research
---

## 背景
<!-- 摘要式：项目背景、问题来源、调研目标 -->

## 关键决策
<!-- 选了什么、为什么 -->

## 技术细节（可选）
<!-- 兼容矩阵、配置、关键发现 -->

## 结论
<!-- 可行/不可行/有条件可行 -->

## 遗留问题（可选）

## 下一步方向（可选）
<!-- 方向性建议，不预设具体实现 -->
```

### B. 实现中断类
适用于：功能开发中断、代码编写暂停、需后续续接

```markdown
---
title: <简明标题>
date: YYYY-MM-DD
project: <项目名>
tags: [tag1, tag2]
type: implementation
---

## 目标
<!-- 本次要实现什么 -->

## 当前进度
<!-- 已完成的部分，具体到文件/函数级别 -->

## 未完成部分
<!-- 剩余工作，按优先级列出 -->

## 关键上下文
<!-- 续接时必须知道的信息：设计决策、踩过的坑、依赖关系 -->

## 相关文件
<!-- 涉及的文件路径列表 -->

## 续接指引
<!-- 从哪里开始、注意事项 -->
```

### C. 问题解决类
适用于：Bug 修复、错误排查

```markdown
---
title: <简明标题>
date: YYYY-MM-DD
project: <项目名>
tags: [tag1, tag2]
type: debugging
---

## 问题描述
<!-- 现象、错误信息 -->

## 排查过程（可选）
<!-- 尝试了什么、排除了什么 -->

## 根因
<!-- 问题的根本原因 -->

## 解决方案
<!-- 如何修复 -->

## 是否已修复
<!-- 已修复/部分修复/未修复 -->

## 预防措施（可选）
<!-- 如何避免类似问题 -->
```

## 原则

1. **精炼**：突出关键信息，省略过程试错
2. **上下文独立**：读者无需看原对话即可理解
3. **场景适配**：根据对话性质选择模板，可混合使用
4. **方向性建议**：下一步应是方向而非具体指令
5. **产出聚焦**：仅列核心产出，不列对话"副产品"

## 输出位置

| 用途 | 输出 |
|------|------|
| 项目内沉淀 | `doc/summaries/<topic>.md` |
| 即时展示 | 对话中直接输出 |

## 流程

1. 判断场景类型（调研/实现/问题解决/其他）
2. 选择或混合模板
3. 提取关键信息填充
4. 确认存储位置
